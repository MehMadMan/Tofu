{"version":4,"terraform_version":"1.8.3","serial":6,"lineage":"2e8ecadd-ea57-0d98-7aa5-044ee21b2a25","outputs":{"ami-name":{"value":"ami-08cfba77040c6f2a5","type":"string"},"default-vpc-cidr":{"value":"172.31.0.0/16","type":"string"},"instance_arn":{"value":"arn:aws:ec2:ap-south-1:615299768644:instance/i-0e8396ee1b71efb1e","type":"string"},"public-ip":{"value":"http://http://15.207.248.170","type":"string"}},"resources":[{"module":"module.aws_db_instance","mode":"data","type":"aws_vpc","name":"default_vpc","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:ec2:ap-south-1:615299768644:vpc/vpc-021f33aa21366b74c","cidr_block":"172.31.0.0/16","cidr_block_associations":[{"association_id":"vpc-cidr-assoc-05d600bc7ea69b4f3","cidr_block":"172.31.0.0/16","state":"associated"}],"default":true,"dhcp_options_id":"dopt-09fc3ff95a5ff1cdb","enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"filter":[{"name":"isDefault","values":["true"]}],"id":"vpc-021f33aa21366b74c","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-08545aa4e8950dc0d","owner_id":"615299768644","state":null,"tags":{},"timeouts":null},"sensitive_attributes":[]}]},{"module":"module.aws_db_instance","mode":"managed","type":"aws_db_instance","name":"mariadb","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":2,"attributes":{"address":"opentufo-week2-mariadb-instance.c5acoaoqalvv.ap-south-1.rds.amazonaws.com","allocated_storage":20,"allow_major_version_upgrade":null,"apply_immediately":false,"arn":"arn:aws:rds:ap-south-1:615299768644:db:opentufo-week2-mariadb-instance","auto_minor_version_upgrade":true,"availability_zone":"ap-south-1a","backup_retention_period":0,"backup_target":"region","backup_window":"23:17-23:47","blue_green_update":[],"ca_cert_identifier":"rds-ca-rsa2048-g1","character_set_name":"","copy_tags_to_snapshot":false,"custom_iam_instance_profile":"","customer_owned_ip_enabled":false,"db_name":"wordpress","db_subnet_group_name":"default","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_auth_secret_arn":"","domain_dns_ips":null,"domain_fqdn":"","domain_iam_role_name":"","domain_ou":"","enabled_cloudwatch_logs_exports":null,"endpoint":"opentufo-week2-mariadb-instance.c5acoaoqalvv.ap-south-1.rds.amazonaws.com:3306","engine":"mariadb","engine_lifecycle_support":"","engine_version":"10.6","engine_version_actual":"10.6.19","final_snapshot_identifier":null,"hosted_zone_id":"Z2VFMSZA74J7XZ","iam_database_authentication_enabled":false,"id":"db-GVCACMVEZ43L53S3QIIFJC3TEI","identifier":"opentufo-week2-mariadb-instance","identifier_prefix":"","instance_class":"db.t3.micro","iops":0,"kms_key_id":"","latest_restorable_time":"","license_model":"general-public-license","listener_endpoint":[],"maintenance_window":"fri:09:20-fri:09:50","manage_master_user_password":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"max_allocated_storage":0,"monitoring_interval":0,"monitoring_role_arn":"","multi_az":false,"nchar_character_set_name":"","network_type":"IPV4","option_group_name":"default:mariadb-10-6","parameter_group_name":"default.mariadb10.6","password":"superpass","performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"publicly_accessible":false,"replica_mode":"","replicas":[],"replicate_source_db":"","resource_id":"db-GVCACMVEZ43L53S3QIIFJC3TEI","restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"snapshot_identifier":null,"status":"available","storage_encrypted":false,"storage_throughput":0,"storage_type":"gp2","tags":null,"tags_all":{},"timeouts":null,"timezone":"","upgrade_storage_config":null,"username":"admin","vpc_security_group_ids":["sg-0c1ef9b6b2d0e83cf"]},"sensitive_attributes":[[{"type":"get_attr","value":"password"}]],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NDgwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9","dependencies":["module.aws_db_instance.aws_security_group.mariadb_sg","module.aws_db_instance.data.aws_vpc.default_vpc"]}]},{"module":"module.aws_db_instance","mode":"managed","type":"aws_security_group","name":"mariadb_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-south-1:615299768644:security-group/sg-0c1ef9b6b2d0e83cf","description":"sg for maria db to access the 3306 from ec2","egress":[],"id":"sg-0c1ef9b6b2d0e83cf","ingress":[{"cidr_blocks":["172.31.0.0/16"],"description":"3306 ingress permission","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306}],"name":"opentufo-week2-mariadb-sg","name_prefix":"","owner_id":"615299768644","revoke_rules_on_delete":false,"tags":null,"tags_all":{},"timeouts":null,"vpc_id":"vpc-021f33aa21366b74c"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["module.aws_db_instance.data.aws_vpc.default_vpc"]}]},{"module":"module.aws_instance","mode":"data","type":"aws_ami","name":"latest_amzn2_ami","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"architecture":"x86_64","arn":"arn:aws:ec2:ap-south-1::image/ami-08cfba77040c6f2a5","block_device_mappings":[{"device_name":"/dev/xvda","ebs":{"delete_on_termination":"true","encrypted":"false","iops":"0","snapshot_id":"snap-0cc2f879cce98e71f","throughput":"0","volume_size":"8","volume_type":"gp2"},"no_device":"","virtual_name":""}],"boot_mode":"","creation_date":"2024-10-14T21:50:58.000Z","deprecation_time":"2025-07-01T00:00:00.000Z","description":"Amazon Linux 2 AMI 2.0.20241014.0 x86_64 HVM gp2","ena_support":true,"executable_users":null,"filter":[{"name":"name","values":["amzn2-ami-hvm-*-x86_64-gp2"]}],"hypervisor":"xen","id":"ami-08cfba77040c6f2a5","image_id":"ami-08cfba77040c6f2a5","image_location":"amazon/amzn2-ami-hvm-2.0.20241014.0-x86_64-gp2","image_owner_alias":"amazon","image_type":"machine","imds_support":"","include_deprecated":false,"kernel_id":"","most_recent":true,"name":"amzn2-ami-hvm-2.0.20241014.0-x86_64-gp2","name_regex":null,"owner_id":"137112412989","owners":["amazon"],"platform":"","platform_details":"Linux/UNIX","product_codes":[],"public":true,"ramdisk_id":"","root_device_name":"/dev/xvda","root_device_type":"ebs","root_snapshot_id":"snap-0cc2f879cce98e71f","sriov_net_support":"simple","state":"available","state_reason":{"code":"UNSET","message":"UNSET"},"tags":{},"timeouts":null,"tpm_support":"","usage_operation":"RunInstances","virtualization_type":"hvm"},"sensitive_attributes":[]}]},{"module":"module.aws_instance","mode":"managed","type":"aws_instance","name":"ec2_instance","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"ami":"ami-08cfba77040c6f2a5","arn":"arn:aws:ec2:ap-south-1:615299768644:instance/i-0e8396ee1b71efb1e","associate_public_ip_address":true,"availability_zone":"ap-south-1b","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":1}],"cpu_threads_per_core":1,"credit_specification":[{"cpu_credits":"standard"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-0e8396ee1b71efb1e","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t2.micro","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-0cc4a9283fb161447","private_dns":"ip-172-31-15-134.ap-south-1.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"172.31.15.134","public_dns":"ec2-15-207-248-170.ap-south-1.compute.amazonaws.com","public_ip":"15.207.248.170","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/xvda","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0bd1f4b7db5f6416e","volume_size":8,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":["opentufo-week2-ec2-sg"],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0be04bf3a85cb4994","tags":{"Name":"opentufo-week2-ec2instance"},"tags_all":{"Name":"opentufo-week2-ec2instance"},"tenancy":"default","timeouts":null,"user_data":"5614a827465ae96830f154d6318e7955742b260d","user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-04c7a10dc517f9ec3"]},"sensitive_attributes":[[{"type":"get_attr","value":"user_data"}]],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["module.aws_db_instance.aws_db_instance.mariadb","module.aws_db_instance.aws_security_group.mariadb_sg","module.aws_db_instance.data.aws_vpc.default_vpc","module.aws_instance.aws_security_group.ec2-wordpress-sg","module.aws_instance.data.aws_ami.latest_amzn2_ami"]}]},{"module":"module.aws_instance","mode":"managed","type":"aws_security_group","name":"ec2-wordpress-sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-south-1:615299768644:security-group/sg-04c7a10dc517f9ec3","description":"security group to allow egress and ingress","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-04c7a10dc517f9ec3","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"HTTP","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"HTTP","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"opentufo-week2-ec2-sg","name_prefix":"","owner_id":"615299768644","revoke_rules_on_delete":false,"tags":null,"tags_all":{},"timeouts":null,"vpc_id":"vpc-021f33aa21366b74c"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="}]}],"check_results":[{"object_kind":"var","config_addr":"module.aws_instance.var.instance_type","status":"pass","objects":[{"object_addr":"module.aws_instance.var.instance_type","status":"pass"}]},{"object_kind":"var","config_addr":"module.aws_instance.var.ami","status":"unknown","objects":[{"object_addr":"module.aws_instance.var.ami","status":"unknown"}]}]}
